(this["webpackJsonpsenso-trail-app"]=this["webpackJsonpsenso-trail-app"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);n(92);var r=n(0),a=n.n(r),i=n(50),c=n.n(i),u=n(7),o=n(36),l=n(85),s=n(16),d=n(19),f=n(75),m=n(72),p=n(86),v=n.n(p),O=n(1),E={loading:!1,byUuid:{}};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TRAILS_START":return Object(O.a)({},e,{loading:!0});case"LOAD_TRAILS_FAIL":return Object(O.a)({},e,{loading:!1});case"LOAD_TRAILS_SUCCESS":return Object(O.a)({},e,{loading:!1,byUuid:Object(O.a)({},t.transformedTrails)});case"START_TRAIL_SUCCESS":return Object(O.a)({},e,{error:void 0,current_trail:t.trailId});case"START_TRAIL_REJECT":return Object(O.a)({},e,{error:{selected_trail:t.trailId}});case"START_TRAIL_CANCEL":return Object(O.a)({},e,{error:void 0});default:return e}},T=n(12),S={byUuid:{},slugToUuid:{},loading:!1};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_STATION_START":return Object(O.a)({},e,{loading:!0});case"LOAD_STATION_FAIL":return Object(O.a)({},e,{loading:!1});case"LOAD_STATION_SUCCESS":return Object(O.a)({},e,{loading:!1,byUuid:Object(O.a)({},e.byUuid,{},t.transformedStations),slugToUuid:Object(O.a)({},e.slugToUuid,{},t.slugToUuid)});case"UNLOCK_STATION_SUCCESS":return Object(O.a)({},e,{byUuid:Object(O.a)({},e.byUuid,Object(T.a)({},t.uuid,Object(O.a)({},e.byUuid[t.uuid],{unlocked:!0})))});default:return e}},y={byUuid:{}};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_ANSWER":return Object(O.a)({},e,{byUuid:Object(O.a)({},e.byUuid,Object(T.a)({},t.uuid,Object(O.a)({},e.byUuid[t.uuid],{answers:Object(O.a)({},e.byUuid[t.uuid].answers,Object(T.a)({},t.answerId,Object(O.a)({},e.byUuid[t.uuid].answers[t.answerId],{choosen:!0})))})))});case"REVEAL_ANSWERS":return Object(O.a)({},e,{byUuid:Object(O.a)({},e.byUuid,Object(T.a)({},t.uuid,Object(O.a)({},e.byUuid[t.uuid],{reveal:!0})))});default:return e}}var h={byUuid:{},slugToUuid:{},loading:!1};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ACTIVITIES_START":return Object(O.a)({},e,{loading:!0});case"LOAD_ACTIVITIES_FAIL":return Object(O.a)({},e,{loading:!1});case"LOAD_ACTIVITIES_SUCCESS":return Object(O.a)({},e,{loading:!1,byUuid:Object(O.a)({},e.byUuid,{},t.transformedActivities),slugToUuid:Object(O.a)({},e.slugToUuid,{},t.slugToUuid)});case"LOAC_RESOURCE_START":return Object(O.a)({},e,{loading:!0});case"LOAC_RESOURCE_FAIL":case"LOAC_RESOURCE_SUCCESS":return Object(O.a)({},e,{loading:!1});case"COMPLETE_ACTIVITY":return Object(O.a)({},e,{byUuid:Object(O.a)({},e.byUuid,Object(T.a)({},t.uuid,Object(O.a)({},e.byUuid[t.uuid],{completed:!0})))});default:switch(t.activityType){case"ACTIVITY_TYPE_MULTI_CHOICE":return A(e,t);default:return e}}}var g={byUuid:{}};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return{byUuid:Object(O.a)({},e.byUuid,Object(T.a)({},t.uuid,{messageType:t.messageType,text:t.text,timestamp:t.timestamp,uuid:t.uuid}))};case"HIDE_MESSAGE":return{byUuid:Object(O.a)({},e.byUuid,Object(T.a)({},t.uuid,Object(O.a)({},e.byUuid[t.uuid],{hide:!0})))};default:return e}}var C={score:0};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POINTS":return Object(O.a)({},e,{score:e.score+t.points});case"RESET_SCORE":return Object(O.a)({},e,{score:0});default:return e}}var U={trails:E,station:S,activity:h,messages:g,score:C};function L(e){return Object(d.c)({router:Object(o.b)(e),trails:b,station:_,activity:j,messages:I,score:w})}var R=n(204),N=n(203),D=n(10),k=n.n(D),x=n(20),P=n(89),G=n(201),Y=n(56),V=n(206),M=n(88);function z(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;t[u.uuid]=u}}catch(o){r=!0,a=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}function F(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;t[u.slug]=u.uuid}}catch(o){r=!0,a=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}function W(e){return{type:"LOAD_STATION_START",uuids:e}}function H(e){return{type:"UNLOCK_STATION_FAIL",uuid:e}}var B=n(13);var J=Object(B.a)([function(e){return Object.keys(e.trails.byUuid).map((function(t,n){return e.trails.byUuid[t]}))}],(function(e){return e}));function K(e){return e.trails.current_trail}function X(e){return e.trails.byUuid}var q=Object(B.a)([X,K],(function(e,t){return e[t]})),$=n(11),Q=Object(R.a)((function(e,t,n){return e.pipe(Object(M.a)("START_TRAIL_BEGIN"),Object(Y.a)((function(e){return void 0!==t.value.trails.current_trail?{type:"START_TRAIL_REJECT",trailId:e.trailId}:{type:"START_TRAIL_SUCCESS",trailId:e.trailId}})))}),(function(e,t,n){var r=n.fetchJSON;return e.pipe(Object(M.a)("LOAD_TRAILS_START"),Object(P.a)(function(){var e=Object(x.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/SENSO-Trail-App/json/trailslist.json",e.next=3,r("/SENSO-Trail-App/json/trailslist.json");case 3:return n=e.sent,e.abrupt("return",{type:"LOAD_TRAILS_SUCCESS",transformedTrails:z(n)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(G.a)((function(e){return[{type:"LOAD_TRAILS_FAIL"}]})))}),(function(e,t,n){return e.pipe(Object(M.a)("START_TRAIL_SUCCESS"),Object(P.a)((function(e){return[W(q(t.value).stations)]})))}),(function(e,t,n){return e.pipe(Object(M.a)("START_TRAIL_SUCCESS"),Object(P.a)((function(t){return e.pipe(Object(M.a)("LOAD_ACTIVITIES_SUCCESS"),Object(Y.a)((function(e){return Object($.d)("/mytrail")})),Object(V.a)(1))})))})),Z=n(202),ee=n(41);Object(B.a)([function(e,t){var n=t.uuid;return e.station.byUuid[n]}],(function(e){return e}));function te(e){return e.station.byUuid}var ne=Object(B.a)([te,function(e,t){var n=t.slug;return e.station.slugToUuid[n]}],(function(e,t){return e[t]}));function re(e,t){var n=t.uuid;return e.activity.byUuid[n]}function ae(e,t){var n=t.slug;return e.activity.slugToUuid[n]}function ie(e){return e.activity.byUuid}var ce=Object(B.a)([re],(function(e){return e})),ue=(Object(B.a)([re],(function(e){return e.activityType})),Object(B.a)([ie,ae],(function(e,t){return e[t]}))),oe=(Object(B.a)([ie,ae],(function(e,t){return e[t].activityType})),Object(B.a)([K,X,te,ie],(function(e,t,n,r){if(!e)return[];console.log("BUILD PATH");var a=t[e].stations.map((function(e){var t=[n[e].slug];return n[e].unlocked&&t.push.apply(t,Object(ee.a)(n[e].activities.map((function(t){return n[e].slug+"/"+r[t].slug})))),t})).flat();return a.unshift(""),a})));var le=Object(B.a)([function(e,t){return t.uuid},K,X,te,ie],(function(e,t,n,r,a){if(!t)return!1;var i=n[t].stations.indexOf(e);return!(i<0)&&n[t].stations.filter((function(e,t){return t<i})).map((function(e){return r[e].activities.map((function(e){return a[e].completed||!1}))})).flat().reduce((function(e,t){return e&&t}),!0)}));var se=Object(R.a)((function(e,t,n){var r=n.fetchJSON;return e.pipe(Object(M.a)("LOAD_STATION_START"),Object(P.a)(function(){var e=Object(x.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/SENSO-Trail-App/json/stationlist.json",e.next=3,r("/SENSO-Trail-App/json/stationlist.json",{uuids:t.uuids});case 3:return n=e.sent,e.abrupt("return",(a=z(n),i=F(n),{type:"LOAD_STATION_SUCCESS",transformedStations:a,slugToUuid:i}));case 5:case"end":return e.stop()}var a,i}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(G.a)((function(e){return[{type:"LOAD_STATION_FAIL"}]})))}),(function(e,t){return e.pipe(Object(M.a)("UNLOCK_STATION_START"),Object(Z.a)((function(e){return le(t.value,{uuid:e.uuid})?[(n=e.uuid,{type:"UNLOCK_STATION_SUCCESS",uuid:n})]:[H(e.uuid)];var n})))}));function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:"COMPLETE_ACTIVITY",uuid:e,points:t}}var fe=n(90);var me=Object(R.a)((function(e,t,n){var r=n.fetchJSON;return e.pipe(Object(M.a)("LOAD_ACTIVITIES_START"),Object(P.a)(function(){var e=Object(x.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/SENSO-Trail-App/json/activities.json",e.next=3,r("/SENSO-Trail-App/json/activities.json",{uuids:t.uuids});case 3:return n=e.sent,e.abrupt("return",(a=z(n),i=F(n),{type:"LOAD_ACTIVITIES_SUCCESS",transformedActivities:a,slugToUuid:i}));case 5:case"end":return e.stop()}var a,i}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(G.a)((function(e){return Object(fe.a)({type:"LOAD_ACTIVITIES_FAIL"})})))}),(function(e,t,n){return e.pipe(Object(M.a)("LOAD_STATION_SUCCESS"),Object(Y.a)((function(e){var t=Object.values(e.transformedStations).map((function(e){return e.activities})),n=[];return t.forEach((function(e){return n.push.apply(n,Object(ee.a)(e))})),function(e){return{type:"LOAD_ACTIVITIES_START",uuids:e}}(n)})))}),(function(e,t,n){var r=n.getResources;return e.pipe(Object(M.a)("LOAC_RESOURCE_START"),Object(P.a)(function(){var e=Object(x.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t.resourceUrls);case 2:return e.abrupt("return",{type:"LOAC_RESOURCE_SUCCESS",uuids:t.uuids});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(G.a)((function(e){return Object(fe.a)({type:"LOAC_RESOURCE_FAIL"})})))})),pe=n(57);function ve(e){return{type:"REVEAL_ANSWERS",activityType:"ACTIVITY_TYPE_MULTI_CHOICE",uuid:e}}var Oe=Object(R.a)((function(e,t){return e.pipe(Object(M.a)("CHOOSE_ANSWER"),Object(Z.a)((function(e){var n=t.value.activity.byUuid[e.uuid],r=Object.values(n.answers).filter((function(t){return!t.choosen&&t.id!==e.answerId})),a=r.filter((function(e){return e.correct})),i=r.filter((function(e){return!e.correct}));return a.length<1?[ve(e.uuid),de(e.uuid,n.points)]:i.length<1?[ve(e.uuid),de(e.uuid)]:pe.a})))})),Ee=n(199);var be=Object(R.a)((function(e,t){return e.pipe(Object(M.a)("LOAD_ACTIVITIES_SUCCESS"),Object(Ee.a)((function(e){var t=e.transformedActivities;for(var n in t)if("ACTIVITY_TYPE_IMAGE"===t[n].activityType)return!0;return!1})),Object(Y.a)((function(e){var t=Object.values(e.transformedActivities),n=(t=t.filter((function(e){return"ACTIVITY_TYPE_IMAGE"===e.activityType}))).map((function(e){return e.image.src}));return function(e,t){return{type:"LOAC_RESOURCE_START",uuids:e,resourceUrls:t}}(t.map((function(e){return e.uuid})),n)})))})),Te=n(205),Se=n(60),_e=n.n(Se);function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return null===r&&(r=Date.now()),{type:"ADD_MESSAGE",messageType:e,text:t,timestamp:r,uuid:n}}var Ae=[{trigger:"LOAD_STATION_FAIL",type:"MESSAGE_TYPE_ERROR",message:"Fehler: Die Stadtionen konnten nicht geladen werden"},{trigger:"UNLOCK_STATION_FAIL",type:"MESSAGE_TYPE_ERROR",message:"Diese Stadtion kann noch nich freigeschaltet werden"},{trigger:"UNLOCK_STATION_SUCCESS",type:"MESSAGE_TYPE_LOG",message:"Station erfolgreich freigeschaltet"},{trigger:"LOAD_TRAILS_FAIL",type:"MESSAGE_TYPE_ERROR",message:"Fehler: Die Trails konnten nicht geladen werden."}];var he=R.a.apply(void 0,[function(e){return e.pipe(Object(M.a)("ADD_MESSAGE"),Object(Z.a)((function(e){return Object(fe.a)((t=e.uuid,{type:"HIDE_MESSAGE",uuid:t})).pipe(Object(Te.a)(3e3));var t})))}].concat(Object(ee.a)(Ae.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.a;return function(n,r){return n.pipe(Object(M.a)(e.trigger),Object(Y.a)((function(n){var r=t();return ye(e.type,e.message,r)})))}}(e)})))));var je=Object(R.a)((function(e){return e.pipe(Object(M.a)("START_TRAIL_SUCCESS"),Object(Y.a)((function(e){return{type:"RESET_SCORE"}})))}),(function(e){return e.pipe(Object(M.a)("ADD_POINTS"),Object(Y.a)((function(e){return ye("MESSAGE_TYPE_LOG","+".concat(e.points," Punkte"),_e()())})))}),(function(e){return e.pipe(Object(M.a)("COMPLETE_ACTIVITY"),Object(Z.a)((function(e){return e.points&&e.points>0?Object(fe.a)({type:"ADD_POINTS",points:e.points}):pe.a})))}));function ge(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(x.a)(k.a.mark((function e(t){var n,r,a,i,c=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},"/SENSO-Trail-App/json/activities.json"!==t){e.next=3;break}return e.abrupt("return",Ue(n));case 3:return r={headers:{Accept:"application/json"},method:"GET"},e.next=6,window.fetch(t,r);case 6:return a=e.sent,e.next=9,a.json();case 9:if(i=e.sent,!("uuids"in n)){e.next=12;break}return e.abrupt("return",i.filter((function(e){return n.uuids.includes(e.uuid)})));case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return we.apply(this,arguments)}function we(){return(we=Object(x.a)(k.a.mark((function e(t){var n,r,a=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:{},n={method:"GET"},r=t.map((function(e){return window.fetch(e,Object(O.a)({},n))})),e.next=5,Promise.all(r);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(x.a)(k.a.mark((function e(t){var n,r,a,i,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uuids,r={headers:{Accept:"application/json"},method:"GET"},a=["/SENSO-Trail-App/json/textActivity.json","/SENSO-Trail-App/json/imageActivity.json","/SENSO-Trail-App/json/multiChoiceActivity.json"],e.next=5,Promise.all(a.map((function(e){return window.fetch(e,r)})));case 5:return i=e.sent,e.next=8,Promise.all(i.map((function(e){return e.json()})));case 8:return c=e.sent,e.abrupt("return",c.flat().filter((function(e){return n.includes(e.uuid)})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=Object(R.a)(Q,se,me,be,Oe,he,je),Ne=function(){return Object(N.a)({dependencies:{fetchJSON:ge,getResources:Ce}})},De=Re,ke=Object(s.a)({basename:"/SENSO-Trail-App"}),xe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d;n(107);var Pe=n(3),Ge=n(21);n(108);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Me=a.a.createElement("path",{d:"M51.829 27.231L39.016 47.485l3.79 1.896-7.56 11.117 6.371.455-8.821 15.68 5.257 3.346-14.276 20.492 7.097 1.978-12.376 18.977 5.14 1.87-9.575 15.046 5.983.5-17.234 20.27 10.016 2.75 31.366 2.43-1.009 11.677h17.192l-1.005-11.629 31.041-3.654 11.164.688-17.972-22.54 5.894-.492-9.574-15.046 5.156-1.876-13.468-21.162 7.862-.232L65.51 79.98l5.224-3.326-7.827-12.925 5.725-2.634-9.45-12.562 4.894-1.253-6.933-7.974 1.55-2.204zm167.607.099l-12.54 19.823 3.71 1.856-7.398 10.88 6.234.444-8.633 15.345 5.145 3.274-13.97 20.055 6.945 1.936-12.114 18.573 5.03 1.829-9.37 14.726 5.856.488-16.866 19.84 9.803 2.69 30.697 2.377-.989 11.428h16.825l-.984-11.38 30.38-3.578 10.925.674-17.588-22.058 5.769-.48-9.371-14.727 5.047-1.835-13.18-20.711 7.693-.227-13.668-19.62 5.113-3.255-7.66-12.65 5.604-2.576-9.25-12.294 4.79-1.226-6.785-7.804 1.517-2.157zm-20.19 11.522l-1.963 2.825.57.812-2.26 2.6 1.7.435-3.43 4.558 2 .92-2.819 4.654 1.884 1.199-.85 1.218 1.32 2.087-2.476 1.239 5.596 8.23-4.513.322 3.63 6.454 7.841-13.94-6.614-.472 5.607-8.245-2.196-3.906 2.21-.158-2.568-3.775 1.365-.683zm-99.699 3.444l-1.964 2.825.571.812-2.261 2.6 1.7.436-3.43 4.557 2 .92-2.818 4.655 1.883 1.2-.651.934 5.902 9.328-1.667.834 2.15 3.16 1.46-2.41-2.18-1.002 3.173-4.217-1.893-.485 3.165-3.64-.492-.7.496-.712-.76-1.09 1.905-1.214-3.264-5.8 2.21-.158-2.567-3.776 1.365-.682zm84.933 3.68l-4.583 6.592 1.035 1.472-4.63 5.325 3.269.836-6.312 8.389 3.824 1.759-1.36 2.246-.414.683-3.452 5.702 3.488 2.22-6.969 10.004-2.357 3.384 2.768.082-.247-.355.778-.6-.04.131.61-.471-.004-.007-.18.05.136-.106 1.211 1.424.217.006-2.065 3.245-.009.015-6.919 10.872 3.444 1.252-6.394 10.048 3.936.328-12 15.05 7.453-.458 20.026 2.358 9.461-14.868-5.063-1.842 11.976-18.361-7.05-1.966 9.501-13.637-3.886-5.579 3.51-2.234-5.89-10.47 4.253-.303-5.048-7.424 2.532-1.266-2.013-3.183-.219-.139.064-.105zm-33.151 1.757l-1.964 2.825.57.812-2.26 2.6 1.7.435-3.43 4.558 2 .92-2.819 4.655 1.884 1.198-4.465 6.41.284.503 2.146.063-1.12 1.762.078.138-.28.178-1.366 2.148 5.526 7.932 2.77-4.575-2.736-1.259 4.054-5.388-2.372-.607 3.888-4.473-.633-.901 1.892-2.722 1.757-2.527-2.079-3.695 2.21-.157-2.567-3.776 1.365-.682zm-70.36 3.065l-1.683 2.42.521.742L77.8 56.27l1.532.392-3.12 4.147 1.804.83-2.561 4.229 1.711 1.09-4.318 6.197 2.503.074-1.954 3.07.69 1.139-2.377 1.513-.828 1.3 1.666.607-1.635 2.57 7.274 10.442.25.03 2.183-3.134-1.55.095 4.915-6.162-1.688-1.074 3.433-5.67-2.736-1.258 4.054-5.388-2.373-.607 1.538-1.77-1.376-1.975 1.733-1.103-2.982-5.3 1.991-.143-2.3-3.384 1.238-.62zm38.897.953l-1.964 2.825.571.813-2.261 2.6 1.7.435-3.43 4.558 2 .92-2.502 4.131.869 1.278.698.443-.2.288.546.804.474.697-2.173.155-.171.245 2.628 4.672-1.772 1.129 4.654 6.68 5.833-8.372-2.285-1.454 2.113-3.489-.944-1.354 1.704-1.085-2.176-1 1.079-1.435-1.966-3.493 2.21-.158-2.566-3.775 1.364-.683zm13.62.57l-2.765 3.975.713 1.013-2.985 3.433 2.18.558-3.812 5.066-.498.662 1.175.54 1.381.637-.53.876.006.013-.023.015-1.174 1.938-1.833 3.027 2.374 1.511-6.185 8.879 3.526.104-4.445 6.985-.683 1.072-1.027 1.615 2.329.847-4.266 6.704 2.72.226-5.11 6.41-2.68 3.36.193.303 4.01-.247 14.3 1.684-.452 5.22h7.184l-.454-5.253 2.308-.178 3.83-6.017-2.33-.848 5.702-8.96-3.673-.107 3.5-5.023.476-.685-3.93-6.026 3.194-.89-6.391-9.175 2.395-1.524-4.066-7.228 2.834-.202-3.325-4.89 1.721-.861zm-25.32 6.952l-.187.27.054.095-.217.139-1.614 2.32.571.813-2.261 2.6 1.7.435-3.43 4.558 2 .92-2.804 4.63.042.061 1.827 1.163-2.366 3.396 1.668 2.965-1.588 1.01-.465.731 6.526 9.369-3.265.91 5.511 8.45-2.34.85 3.212 5.047-.252-2.913 3.225-.25 2.745-3.442-2.362-.196 4.627-7.271-2.329-.848 2.528-3.972-3.877-5.945 2.514-.7-5.01-7.191 1.906-1.213-2.371-4.214-.893-1.586 2.102-.15.108-.009-2.567-3.775 1.365-.682zm62.179 1.504l-1.964 2.825.57.812-2.26 2.6 1.699.436-3.429 4.558 2 .92-1.812 2.991 2.39 3.515-2.07.147-.59.846 3.123 5.55-1.515.965.505.795-.974.08 1.356 1.948 5.642-8.098-3.4-2.164 4.202-6.938-.45-.797.975-.07.38-.626-4.004-1.84 2.702-3.592zm-77.644.57l-2.764 3.975.713 1.013-2.985 3.433 2.18.558-4.31 5.728 2.556 1.176-3.554 5.87 2.374 1.511-4.197 6.025-1.988 2.854 3.526.104-2.987 4.694 2.833 4.067-5.524.162-.477.749 2.33.847-1.721 2.704 9.944 15.624.943.111-.451 5.22h7.184l-.455-5.252 14.408-1.115 4.097-1.125-5.4-6.353-.959.06.488-.612-.43-.506-1.548-1.82 2.78-.232-4.266-6.704 2.318-.843-5.605-8.594 3.194-.89-5.545-7.96-.236-.339-.934-1.34 1.006.03 1.713-1.09-.515-.916-.895-1.591-2.656-4.72 2.835-.203-3.326-4.89 1.722-.861zm64.853 2.34l-2.764 3.975.713 1.014-2.985 3.433 2.179.557-4.31 5.728 2.558 1.176-3.555 5.87 2.374 1.511-3.313 4.755-1.014 1.456-1.857 2.668 3.526.104-6.155 9.672 2.328.847-4.265 6.704.045.004.018.001 2.656.221-8.053 10.1 4.467-.274 14.3 1.683-.391 4.517 6-7.524-3.58-.298 6.756-10.616-3.444-1.252 7.46-11.722-.64-.982 1.537-.428.182-.286-5.395-.159 2.757-3.958.683-.98-2.962-4.253.852-.542.648-.413.694-.442.201-.128-4.066-7.227 2.834-.203-3.324-4.89 1.72-.86zm40.177 12.887l1.655 2.943-3.377 2.15 2.558 3.673 3.974-5.704zm-97.014.66l-1.126.08.994 1.768.932-1.338-.406-.259-.07.115-.19-.28zm17.779 8.679l-.848.236 2.243 3.44 2.205-3.463-3.673-.109zm28.772.126l-2.127.593 2.341 3.589 1.953-2.803zm-68.234 9.046l1.212 1.741 1.066-1.674zm100.35 43.147l-.495 5.713 4.569-5.373z",fill:"#173d10"}),ze=function(e){var t=e.svgRef,n=e.title,r=Ve(e,["svgRef","title"]);return a.a.createElement("svg",Ye({width:1024,height:768,viewBox:"0 0 270.933 203.2",ref:t},r),n?a.a.createElement("title",null,n):null,Me)},Fe=a.a.forwardRef((function(e,t){return a.a.createElement(ze,Ye({svgRef:t},e))})),We=(n.p,n(109),function(){return a.a.createElement("div",{className:"page--404"},a.a.createElement("h1",null,"Das war die Falsche Abzweigung"),a.a.createElement(Fe,null),a.a.createElement("p",null,"Du scheinst dich ein wenig im Wald verrirrt zu haben. Diese Seite exisitiert leider nicht."),a.a.createElement("p",null,"Geh doch einfach nochmal eine Seite zur\xfcck und versuchs mit einer anderen Abzweigung."))}),He=n(23),Be=n.n(He);n(189);var Je=function(e){var t=e.uuid,n=e.name,r=e.stations,i=e.description,c=e.onStartTrail,u=e.onLoadStations;return a.a.createElement("li",{className:"trail_item card info_card"},a.a.createElement("header",null,a.a.createElement("h2",null,n)),a.a.createElement("div",{className:"info_card__content"},a.a.createElement(Be.a,{source:i})),a.a.createElement("div",{className:"trail_item__toolbar"},a.a.createElement("button",{onClick:function(e){return c(t)}},"Trail Starten"),a.a.createElement("button",{onClick:function(e){return u(r)}},"Stationen herunterladen")))};n(190);function Ke(e){var t=e.title,n=e.open,r=e.tools,i=e.children,c="dialog";return n?a.a.createElement("div",{className:c},a.a.createElement("div",{className:"box"},a.a.createElement("header",null,a.a.createElement("h2",null,t)),a.a.createElement("div",{className:"box__content"},i),a.a.createElement("footer",{className:"box__toolbar"},r))):(c+=" dialog--closed",a.a.createElement("div",{className:c}))}n(191);var Xe=function(e){var t=e.trails,n=e.error,r=e.onStartTrail,i=e.onStartTrailAccept,c=e.onStartTrailCancel,u=e.onLoadStations,o="";if(void 0!==n){var l=[a.a.createElement("button",{key:"c",onClick:c},"Abbrechen"),a.a.createElement("button",{key:"o",onClick:function(){return i(n.selectedTrail.uuid)}},"Trail ",n.selectedTrail.name," Starten")];o=a.a.createElement(Ke,{title:"Achtung",open:void 0!==n,tools:l},a.a.createElement("p",null,"Der Trail ",n.currentTrail.name," l\xe4uft bereits"),a.a.createElement("p",null,"Willst du wirklich einen neuen Trail starten"))}return a.a.createElement("section",{className:"page--trails_list"},o,a.a.createElement("ul",{className:"trails_list no_list_style"},t.map((function(e){return a.a.createElement(Je,Object.assign({key:e.uuid,onStartTrail:r,onLoadStations:u},e))}))))};var qe=Object(u.c)((function(e){return{trails:J(e),error:void 0!==e.trails.error?{currentTrail:e.trails.byUuid[e.trails.current_trail],selectedTrail:e.trails.byUuid[e.trails.error.selected_trail]}:void 0}}),(function(e){return{onStartTrail:function(t){return e({type:"START_TRAIL_BEGIN",trailId:t})},onStartTrailCancel:function(){return e({type:"START_TRAIL_CANCEL"})},onStartTrailAccept:function(t){return e({type:"START_TRAIL_SUCCESS",trailId:t})},onLoadStations:function(t){return e(W(t))}}}))(Xe);var $e=Object(u.c)((function(e,t){return console.log(t),console.log(ne(e,{slug:t.match.params.stationSlug})),Object(O.a)({station:ne(e,{slug:t.match.params.stationSlug})},t)}),(function(e){return{onUnlockStation:function(t){return e(function(e){return{type:"UNLOCK_STATION_START",uuid:e}}(t))}}}))((function(e){var t=e.station,n=e.onUnlockStation;return a.a.createElement("div",{className:"card info_card"},a.a.createElement("header",null,a.a.createElement("h2",null,t.name)),a.a.createElement("div",{className:"info_card__content"},a.a.createElement(Be.a,{source:t.description})),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return n(t.uuid)}},"UNLOCK")))})),Qe=n(40),Ze=n.n(Qe);var et=Object(u.c)((function(e,t){return{activity:ce(e,t)}}),(function(e){return{onReadText:function(t,n){return e(de(t,n))}}}))((function(e){var t=e.activity,n=e.onReadText;return t.completed||n(t.uuid,t.points),a.a.createElement("section",{className:"activity text_activity card info_card"},a.a.createElement("header",null,a.a.createElement("h2",null,t.name," ",t.completed?a.a.createElement("img",{src:Ze.a,alt:"completed"}):"")),a.a.createElement("div",{className:"info_card__content"},a.a.createElement(Be.a,{source:t.text})))}));n(192);var tt=Object(u.c)((function(e,t){return{activity:ce(e,t)}}),(function(e){return{onViewImage:function(t,n){return e(de(t,n))}}}))((function(e){var t=e.activity,n=e.onViewImage;return t.completed||n(t.uuid,t.points),a.a.createElement("section",{className:"activity image_activity card info_card"},a.a.createElement("header",null,a.a.createElement("h2",null,t.name," ",t.completed?a.a.createElement("img",{src:Ze.a,alt:"completed"}):"")),a.a.createElement("div",{className:"image_activity__image"},a.a.createElement("img",{src:t.image.src,alt:t.image.alt})),a.a.createElement("div",{className:"info_card__content"},a.a.createElement(Be.a,{source:t.text})))}));n(193);function nt(e){var t=e.id,n=e.text,r=e.onClick,i=e.reveal,c=e.choosen,u=e.correct,o="multi_choice_answer";return c?(o+=" multi_choice_answer--choosen",o+=u?" multi_choice_answer--correct":" multi_choice_answer--wrong"):i&&(o+=" multi_choice_answer--reveal",o+=u?" multi_choice_answer--reveal_correct":" multi_choice_answer--reveal_wrong"),a.a.createElement("button",{onClick:function(){return r(t)},className:o},n,a.a.createElement("span",null))}var rt=Object(u.c)((function(e,t){return{activity:ce(e,t)}}),(function(e){return{onChooseAnswer:function(t,n){return e(function(e,t){return{type:"CHOOSE_ANSWER",activityType:"ACTIVITY_TYPE_MULTI_CHOICE",uuid:e,answerId:t}}(t,n))}}}))((function(e){var t=e.activity,n=e.onChooseAnswer;function r(e){t.reveal||t.answers[e].choosen||n(t.uuid,e)}return a.a.createElement("section",{className:"activity multi_choice_activity card card_info"},a.a.createElement("header",null,a.a.createElement("h2",null,t.name," ",t.completed?a.a.createElement("img",{src:Ze.a,alt:"completed"}):"")),a.a.createElement("div",{className:"multi_choice_activity__question"},t.question),a.a.createElement("div",{className:"multi_choice_activity__answers"},Object.values(t.answers).map((function(e){return a.a.createElement(nt,Object.assign({key:e.id,reveal:t.reveal},e,{onClick:r}))}))))}));n(194);var at=Object(u.c)((function(e,t){var n=t.match.params.activitySlug,r=ue(e,{slug:n});return{activityType:r.activityType,uuid:r.uuid}}),(function(e){return{}}))((function(e){var t=e.activityType,n=e.uuid;switch(t){case"ACTIVITY_TYPE_TEXT":return a.a.createElement(et,{uuid:n});case"ACTIVITY_TYPE_IMAGE":return a.a.createElement(tt,{uuid:n});case"ACTIVITY_TYPE_MULTI_CHOICE":return a.a.createElement(rt,{uuid:n});default:return a.a.createElement("div",null,"TODO")}}));n(195);function it(e){var t=e.name,n=e.description;return a.a.createElement("li",{className:"card info_card"},a.a.createElement("header",null,a.a.createElement("h2",null,t)),a.a.createElement("div",{className:"info_card__content"},a.a.createElement(Be.a,{source:n})))}function ct(e){return{}}var ut=Object(u.c)((function(e){return{trail:q(e),currentStation:e.trails.currentStation}}),ct)((function(e){var t=e.trail,n=(e.currentStation,Object(Pe.g)().path);return void 0===t?a.a.createElement(Pe.a,{to:"/trails"}):a.a.createElement("div",{className:"trail_view"},a.a.createElement("section",{className:"trail_view__content"},a.a.createElement(Pe.d,null,a.a.createElement(Pe.b,{exact:!0,path:n},a.a.createElement(it,t)),a.a.createElement(Pe.b,{path:"".concat(n,"/:stationSlug/:activitySlug"),component:at}),a.a.createElement(Pe.b,{path:"".concat(n,"/:stationSlug"),component:$e}))))}));var ot=Object(u.c)((function(e){return{trail:q(e),path:oe(e)}}),ct)((function(e){var t=e.trail,n=e.path,r=e.match;if(!t)return a.a.createElement("div",null);console.log(r),console.log(n);var i=n.findIndex((function(e){return"/mytrail/".concat(e)===r.url||"/mytrail".concat(e)===r.url}));return console.log(i),a.a.createElement("div",{className:"toolbar"},i>0?a.a.createElement(Ge.a,{to:"/mytrail/".concat(n[i-1])},"<"):"",a.a.createElement(Ge.a,{to:"/mytrail"},t.name),i<n.length-1?a.a.createElement(Ge.a,{to:"/mytrail/".concat(n[i+1])},">"):"")})),lt=ut;function st(){return a.a.createElement(Pe.d,null,a.a.createElement(Pe.b,{exact:!0,path:"/trails"},a.a.createElement("div",{className:"toolbar"},a.a.createElement(Ge.a,{to:"/mytrail"},"GOTO Current Trail"))),a.a.createElement(Pe.b,{path:"/mytrail/:stationSlug/:activitySlug",component:ot}),a.a.createElement(Pe.b,{path:"/mytrail/:stationSlug",component:ot}),a.a.createElement(Pe.b,{path:"/mytrail",component:ot}),a.a.createElement(Pe.b,null,a.a.createElement("div",{className:"empty-toolbar"})))}n(196);var dt=function(e){var t=e.score;return e.isActive?a.a.createElement("div",{className:"score"},a.a.createElement("strong",null,"Score:")," ",a.a.createElement("span",{className:"score-value"},t)):""};var ft,mt=Object(u.c)((function(e){return{score:e.score.score,isActive:void 0!==q(e)}}),(function(e){return{}}))(dt);n(197);var pt=(ft={},Object(T.a)(ft,"MESSAGE_TYPE_ERROR","message--error"),Object(T.a)(ft,"MESSAGE_TYPE_LOG","message--log"),ft);var vt=Object(B.a)([function(e){return Object.values(e.messages.byUuid)}],(function(e){return e.filter((function(e){return!e.hide&&e.timestamp+3e3>=Date.now()})).sort((function(e,t){return e-t})).slice(-3)})),Ot=Object(u.c)((function(e){return{messages:vt(e)}}),(function(e){return{}}))((function(e){var t=e.messages;return a.a.createElement("div",{className:"message_display "},t.map((function(e,t){return a.a.createElement("div",{key:t,className:["card","message",pt[e.messageType]].join(" ")},e.text)})))}));var Et=function(e){var t=e.clearButton;return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(Ge.a,{to:"/"},"SENSO-Trail App"),a.a.createElement(mt,null),a.a.createElement(Ot,null)),a.a.createElement("main",null,a.a.createElement(Pe.d,null,a.a.createElement(Pe.b,{exact:!0,path:"/",render:function(){return function(e){return a.a.createElement("div",{className:"dummy_front_page"},a.a.createElement(Ge.a,{to:"/trails"},"GOTO Trails"),a.a.createElement(Ge.a,{to:"/mytrail"},"GOTO Current Trail"),e||"")}(t)}}),a.a.createElement(Pe.b,{exact:!0,path:"/trails",component:qe}),a.a.createElement(Pe.b,{path:"/mytrail",component:lt}),a.a.createElement(Pe.b,{component:We}))),a.a.createElement(st,null))},bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Tt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var St=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n={key:"root",storage:v.a,blacklist:["router"]};e=Object(m.a)(n,L(ke));var r=Ne(),a=[r,Object(f.a)(ke)],i=Object(d.e)(e,t,xe(d.a.apply(void 0,a)));return r.run(De),{store:i,persistor:Object(m.b)(i)}}(),_t=St.store,yt=St.persistor;_t.dispatch({type:"LOAD_TRAILS_START"});var At=a.a.createElement("button",{onClick:function(){console.log("START CLEARING"),Promise.all([window.caches.keys().then((function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var c=a.value;window.caches.delete(c)}}catch(u){n=!0,r=u}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}})).then((function(){console.log("Service Worker cleared")})),yt.purge().then((function(){console.log("Persist store cleared")}))]).then((function(){console.log("all caches cleared"),window.location.reload()}))}},"Clear Caches");c.a.render(a.a.createElement(u.a,{store:_t},a.a.createElement(o.a,{history:ke,basename:"/SENSO-Trail-App"},a.a.createElement(l.a,{loading:null,persistor:yt},a.a.createElement(Et,{clearButton:At})))),document.getElementById("root")),console.log("prod env"),function(e){if("serviceWorker"in navigator){if(new URL("/SENSO-Trail-App",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/SENSO-Trail-App","/service-worker.js");bt?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Tt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Tt(t,e)}))}}()},40:function(e,t,n){e.exports=n.p+"static/media/correct.101c9dab.svg"},91:function(e,t,n){e.exports=n(198)},92:function(e,t){Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,a=void 0;try{for(var i,c=this[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;u instanceof Array&&e>0?u.flat(e-1,t):t.push(u)}}catch(o){r=!0,a=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}})}},[[91,1,2]]]);
//# sourceMappingURL=main.62b7126e.chunk.js.map